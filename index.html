<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>рд╕реНрдиреЗрд╣ рдкреНрд░рдпрд╛рд╕ - рдЕрд╖реНрдЯрд╛рдкрдж рдпрд╛рддреНрд░рд╛</title>
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
  <style>
    body {
      margin: 0;
      font-family: "Noto Sans Devanagari", sans-serif;
      text-align: center;
      color: white;
      background: url("https://images.unsplash.com/photo-1508264165352-258859e62245?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80") no-repeat center center fixed;
      background-size: cover;
    }
    header {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-bottom: 2px solid #fff;
    }
    header h1 {
      font-size: 2em;
      margin: 0;
      color: #ffe082;
      text-shadow: 2px 2px 5px black;
    }
    header p {
      font-size: 1.2em;
      margin: 5px 0 0;
      color: #ffcc80;
      font-style: italic;
    }
    #reader {
      width: 320px;
      margin: 20px auto;
      display: none;
    }
    #result {
      margin-top: 20px;
      padding: 15px;
      border-radius: 15px;
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      color: #fff;
      font-size: 1.1em;
      text-align: left;
      max-width: 90%;
      white-space: pre-line;
    }
    .btn {
      padding: 12px 18px;
      margin: 8px;
      font-size: 1em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      background: rgba(0,0,0,0.6);
      color: #fff;
      transition: 0.3s;
    }
    .btn:hover {
      background: rgba(255,255,255,0.2);
    }
    #detailsBox {
      margin-top: 25px;
      padding: 15px;
      background: rgba(0,0,0,0.5);
      border-radius: 15px;
      display: none;
    }
    .quote {
      margin-top: 25px;
      font-size: 1.2em;
      font-weight: bold;
      color: #ffe082;
      text-shadow: 1px 1px 3px black;
    }
  </style>
</head>
<body>
  <header>
    <h1>ЁЯЩП рд╕реНрдиреЗрд╣ рдкреНрд░рдпрд╛рд╕ рдкрд░рд┐рд╡рд╛рд░ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рдХрд░рддрд╛ рд╣реИ ЁЯЩП</h1>
    <p>рдЕрд╖реНрдЯрд╛рдкрдж рдХреИрд▓рд╛рд╢ рдХреА рдпрд╛рддреНрд░рд╛ тАУ рдЖрддреНрдорд╢рд╛рдВрддрд┐ рдФрд░ рдореЛрдХреНрд╖ рдХрд╛ рдорд╛рд░реНрдЧ</p>
  </header>

  <button class="btn" onclick="startScanner()">ЁЯУ╖ QR Scan рдХрд░реЗрдВ</button>
  <button class="btn" onclick="showDetails()">ЁЯУЦ Details</button>
  <button class="btn" onclick="resetDetails()">ЁЯЧС Reset</button>

  <div id="reader"></div>
  <div id="result"></div>

  <div id="detailsBox">
    <h3>ЁЯУМ Scanned Details:</h3>
    <ul id="detailsList"></ul>
  </div>

  <div class="quote" id="quoteBox"></div>

  <script>
    let html5QrcodeScanner;
    let scannedDetails = [];

    const quotes = [
      "рдЕрд╣рд┐рдВрд╕рд╛ рдкрд░рдореЛ рдзрд░реНрдордГ ЁЯХЙя╕П",
      "рдЬрд┐рдпреЛ рдФрд░ рдЬреАрдиреЗ рджреЛ ЁЯЩП",
      "рд╕рдореНрдпрдХ рджрд░реНрд╢рди, рд╕рдореНрдпрдХ рдЬреНрдЮрд╛рди рдФрд░ рд╕рдореНрдпрдХ рдЪрд░рд┐рддреНрд░ рд╣реА рдореЛрдХреНрд╖ рдорд╛рд░реНрдЧ рд╣реИред",
      "рдЬреЛ рд╕реНрд╡рдпрдВ рдкрд░ рд╡рд┐рдЬрдп рдкрд╛ рд▓реЗрддрд╛ рд╣реИ рд╡рд╣реА рд╕рдЪреНрдЪрд╛ рд╡реАрд░ рд╣реИред",
      "рдХреНрд░реЛрдз, рдорд╛рди, рдорд╛рдпрд╛ рдФрд░ рд▓реЛрдн тАУ рдЖрддреНрдорд╛ рдХреЗ рд╢рддреНрд░реБ рд╣реИрдВред",
      "рдХреНрд╖рдорд╛ рд╣реА рдЖрддреНрдорд╛ рдХрд╛ рд╕рдмрд╕реЗ рдмрдбрд╝рд╛ рдЕрд▓рдВрдХрд╛рд░ рд╣реИред"
    ];

    function changeQuote() {
      const box = document.getElementById("quoteBox");
      const random = Math.floor(Math.random() * quotes.length);
      box.innerText = quotes[random];
    }
    setInterval(changeQuote, 5000);
    changeQuote();

    function startScanner() {
      document.getElementById("reader").style.display = "block";
      html5QrcodeScanner = new Html5QrcodeScanner("reader", { fps: 10, qrbox: 250 });
      html5QrcodeScanner.render(onScanSuccess, onScanFailure);
    }

    function onScanSuccess(decodedText) {
      let resultDiv = document.getElementById("result");
      try {
        let data = JSON.parse(decodedText);
        let formatted = 
          `тЬЕ Booking ID: ${data.BookingID}\n` +
          `ЁЯСд Name: ${data.Name}\n` +
          `ЁЯУЮ Contact: ${data.Contact}\n` +
          `ЁЯОВ Age: ${data.Age}\n` +
          `тЪз Gender: ${data.Gender}\n` +
          `ЁЯСХ Size: ${data.Size}\n` +
          `ЁЯТ░ Paid: ${data.Paid}\n` +
          `ЁЯТ│ Due: ${data.Due}\n` +
          `ЁЯз╛ Total: ${data.Total}\n` +
          `ЁЯУМ Confirmation: ${data.Confirmation}`;
        
        resultDiv.innerText = formatted;
        resultDiv.style.display = "block";

        scannedDetails.push(formatted);
        updateDetailsList();

        html5QrcodeScanner.clear(); // stop scanner
        document.getElementById("reader").style.display = "none";
      } catch (e) {
        resultDiv.innerText = "тЭМ Invalid QR Code";
      }
    }

    function onScanFailure(error) {
      // ignore
    }

    function showDetails() {
      document.getElementById("detailsBox").style.display = "block";
    }

    function updateDetailsList() {
      let list = document.getElementById("detailsList");
      list.innerHTML = "";
      scannedDetails.forEach((d) => {
        let li = document.createElement("li");
        li.innerText = d;
        list.appendChild(li);
      });
    }

    function resetDetails() {
      scannedDetails = [];
      updateDetailsList();
      document.getElementById("detailsBox").style.display = "none";
      document.getElementById("result").innerText = "";
    }
  </script>
</body>
</html>
